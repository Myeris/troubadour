<app-breadcrumb [breadcrumb]="breadcrumb"></app-breadcrumb>

<div class="practice-session">
  <ng-template #title>
    Loading
  </ng-template>

  <div *ngIf="session$ | async as session">
    <app-practice-session-form
      *ngIf="showForm"
      [session]="session"
      [tabs]="tabs$ | async"
      [types]="types$ | async"
      [exerciseId]="exerciseId"
      [feedback]="feedback"
      (created)="onCreate($event)"
      (updated)="onUpdate($event)"
      (removed)="onRemove($event)">
    </app-practice-session-form>

    <app-practice-session-display
      *ngIf="!showForm"
      [tabs]="tabs$ | async"
      [session]="session">
    </app-practice-session-display>
  </div>

  <app-practice-session-form
    *ngIf="showForm && !(session$ | async)"
    [session]="null"
    [tabs]="tabs$ | async"
    [types]="types$ | async"
    [exerciseId]="null"
    [feedback]="feedback"
    (created)="onCreate($event)"
    (updated)="onUpdate($event)"
    (removed)="onRemove($event)">
  </app-practice-session-form>

  <div class="message" *ngIf="isLoading$ | async">
    <app-svg-icon name="Fetching practice session" path="assets/img/utils/loading.svg"></app-svg-icon>
    Fetching practice session...
  </div>
</div>
